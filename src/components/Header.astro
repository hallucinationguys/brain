---
import HeaderLink from './HeaderLink.astro'
import { ModeToggle } from './ModeToggle'
import { LanguageToggle } from './LanguageToggle'
import { SITE_TITLE } from '@/consts'
import { getLangFromUrl } from '@/i18n/utils'

const lang = getLangFromUrl(Astro.url)
---

<header class="flex bg-background" style="border-color: hsl(var(--border))">
    <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">
            <div class="flex items-center gap-6">
                <h2 class="flex items-center gap-2 text-lg font-semibold tracking-tight">
                    <a
                        href={`/${lang}/`}
                        class="text-foreground transition-colors hover:text-primary"
                    >
                        {SITE_TITLE}
                    </a>
                </h2>
                <div class="hidden md:flex md:items-center md:gap-6">
                    <HeaderLink href={`/veteran`}>Veteran</HeaderLink>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <ModeToggle client:load />
                <LanguageToggle client:load />
            </div>
        </div>
        <div class="flex items-center justify-start py-2 md:hidden">
            <HeaderLink href={`/`}>Articles</HeaderLink>
        </div>
    </nav>
</header>
